---
import Posts from "@components/posts.astro";
import { getPagination } from "@utils/getPagination";
import { getSortedPosts } from "@utils/getSortedPosts";
import { getCollection } from "astro:content";

const posts = await getCollection("blog");
const sortedPosts = getSortedPosts(posts);
const { paginatedPosts, totalPages, currentPage } = getPagination({
  posts: sortedPosts,
  page: 1,
  isIndex: true,
});
---

<Posts
  paginatedPosts={paginatedPosts}
  totalPages={totalPages}
  currentPage={currentPage}
/>
